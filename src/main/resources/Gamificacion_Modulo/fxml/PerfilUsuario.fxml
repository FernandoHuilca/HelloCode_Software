<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>
<?import java.net.URL?>



<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="Gamificacion_Modulo.controllers.PerfilUsuarioController"
      styleClass="gamificacion"
      spacing="20" alignment="TOP_CENTER"
      prefWidth="360.0"
      prefHeight="720.0"
      minWidth="360.0"
      minHeight="720.0"
      maxWidth="360.0"
      maxHeight="720.0">

    <stylesheets>
        <URL value="@../styles/styles.css"/>
    </stylesheets>

    <VBox styleClass="profile-container">
        <!-- Header con foto de perfil -->
        <StackPane styleClass="profile-header">
            <ImageView fitWidth="120" fitHeight="120" styleClass="profile-picture">
                <Image url="@../images/Ellipse 4.png"/>
            </ImageView>
        </StackPane>

        <VBox styleClass="profile-content" spacing="15">
            <!-- Botones de navegación -->
            <HBox alignment="CENTER" spacing="10">
                <Button fx:id="volverComunidadBtn" onAction="#regresarHomeUsuario"
                        text="←Regresar"
                        style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-background-radius: 5; -fx-padding: 8 16; -fx-font-size: 12px;"
                        prefWidth="180"/>
            </HBox>
            
            <!-- Selector de estudiante -->
            <VBox alignment="CENTER" spacing="10">
                <Label text="Seleccionar Estudiante:" styleClass="section-subtitle"/>
                <ComboBox fx:id="estudianteSelector" prefWidth="200" onAction="#cambiarEstudiante"/>
            </VBox>
            
            <!-- Información del perfil -->
            <Label fx:id="userName" text="Cargando..." styleClass="profile-name"/>
            <Label fx:id="userEmail" text="@cargando..." styleClass="profile-username"/>

            <Label text="RESUMEN" styleClass="section-title"/>

            <!-- Resumen de EXP -->
            <HBox styleClass="exp-summary" alignment="CENTER" spacing="20">
                <HBox styleClass="exp-total" alignment="CENTER" spacing="10">
                    <ImageView fitWidth="40" fitHeight="40" styleClass="exp-icon">
                        <Image url="@../images/icono_experiencia.png"/>
                    </ImageView>
                    <Label text="EXP&#10;Totales" textAlignment="CENTER"/>
                </HBox>
                <Label fx:id="expPoints" text="0" styleClass="exp-value"/>
            </HBox>

            <!-- Sección de Desafíos -->
            <VBox styleClass="challenges" spacing="10">
                <HBox alignment="CENTER_LEFT" spacing="50">
                    <Label text="Desafíos" styleClass="section-subtitle"/>
                    <Hyperlink fx:id="verProgresoDesafios" onAction="#verProgresoDesafios" text="Ver progreso" styleClass="progress-link"/>
                </HBox>

                <HBox styleClass="challenge-stats" spacing="30">
                    <VBox styleClass="challenge-item" alignment="CENTER">
                        <Label fx:id="desafiosSemanales" text="0" styleClass="challenge-value"/>
                        <Label text="Semanales" styleClass="challenge-label"/>
                    </VBox>
                    <VBox styleClass="challenge-item" alignment="CENTER">
                        <Label fx:id="desafiosMensuales" text="0" styleClass="challenge-value"/>
                        <Label text="Mensuales" styleClass="challenge-label"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Sección de Logros -->
            <VBox styleClass="achievements" spacing="10">
                <HBox alignment="CENTER_LEFT" spacing="50">
                    <Label text="Logros" styleClass="section-subtitle"/>
                    <Hyperlink fx:id="verProgresoLogros" onAction="#verProgresoLogros" text="Ver progreso" styleClass="progress-link"/>
                </HBox>

                <HBox fx:id="achievementList" styleClass="achievement-list" spacing="20">
                    <!-- Los logros se cargarán dinámicamente -->
                </HBox>
            </VBox>
        </VBox>

        <!-- Barra de navegación inferior -->
    </VBox>
    

</VBox>
